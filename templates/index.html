{% extends "base.html" %}

{% block body %}
<div>
    
    <form id="auth-form" method="POST">
        <input type="text"
               name="username"
               placeholder="Username"
               class="input-field" />

        <input type="password"
               name="password"
               placeholder="Password"
               class="input-field" />

        <!-- Login button -->
        <input type="submit" 
               value="Login" 
               class="btn btn-login" 
               onclick="setActionForm('login')" />

        <!-- Register button -->
        <input type="button" 
               value="Register"
               onclick="setActionForm('register')" 
               class="btn btn-login" />
    </form>
</div>

<script>
    // Decide whether form should go to login or register
    function setActionForm(action) {
        let form = document.getElementById("auth-form");
        if (action === 'login') {
            form.action = "{{ url_for('login') }}";
            form.method = 'post';
            form.submit();
        } else if (action === 'register') {
            form.action = "{{ url_for('register') }}";
            form.method = 'post';
            form.submit();
        }
    }
</script>
{% endblock %}
